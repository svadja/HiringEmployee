<form role="form">
	<script cam-script type="text/form-script">

	$scope.positions = [];
	$scope.datePicker = {
			birthDateOpened:false,
			workDateOpened:false
			};

	$scope.openBirthDate = function($event) {
        $event.preventDefault();
        $event.stopPropagation();
        $scope.datePicker.birthDateOpened = true;
    };
    
	$scope.openWorkDate = function($event) {
        $event.preventDefault();
        $event.stopPropagation();
        $scope.datePicker.workDateOpened = true;
    };	

	var application = $scope.application = {
		person: {}	
	};

	inject(['$http', 'Uri', function($http, Uri) {
        camForm.on('form-loaded', function() {
            camForm.variableManager.createVariable({
                name: 'application',
                type: 'Object',
                value: application,
                valueInfo: {
                    serializationDataFormat: 'application/json',
                    objectTypeName: 'ua.com.integrity.model.Application'
                }
            });
        });
		
		$http({
                method: 'GET',
                url: '/api/positions',
                data: {}
            }).success(function(result) {
                for (var el in result) {
                    $scope.positions.push(result[el]);
               }
        });
		
    }]);

  </script>
	<div ng-include="'/forms/hiring/hiring-form.html'"></div>

</form>
